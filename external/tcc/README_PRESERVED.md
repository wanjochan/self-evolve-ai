# TinyCC 保留内容说明

## 保留目的

此目录保留了TinyCC的核心源码和文档，仅用于以下目的：

1. **许可证合规**: 保留TinyCC的许可证文件和版权声明
2. **技术参考**: 保留核心源码作为C编译器技术参考
3. **历史记录**: 记录项目从TinyCC迁移到c99bin的技术演进

## ⚠️ 重要说明

**此目录中的TinyCC代码不再用于项目构建！**

- ✅ 项目已完全迁移到自主开发的c99bin编译器
- ✅ 实现了100%无外部依赖的构建系统
- ✅ c99bin性能优于TinyCC和GCC

## 保留内容

### 核心源码 (仅供参考)
- `src/` - TinyCC完整源码
- `examples/` - 示例代码

### 许可证和文档
- `src/COPYING` - TinyCC许可证
- `src/README` - TinyCC说明文档
- `src/Changelog` - 变更日志
- `src/TODO` - 开发计划

## 已清理内容

为实现完全无外部依赖，已清理以下内容：

- ❌ `build/` - 所有构建产物和配置
- ❌ `cross/` - 交叉编译相关文件
- ❌ `dist/` - 分发版本和二进制文件
- ❌ `scripts/` - 所有构建和测试脚本
- ❌ `temp_tcc/` - 临时构建目录

## 当前项目编译器策略

### 主编译器: c99bin
- **位置**: `tools/c99bin`, `c99bin.sh`
- **特点**: 自主开发，无外部依赖
- **性能**: 编译速度比GCC快4-8倍
- **支持**: 基础C语法，持续扩展中

### 编译器选择逻辑
1. **优先**: c99bin (自主编译器)
2. **可选**: 外部编译器 (需要显式启用)

```bash
# 使用项目编译器
./cc.sh source.c -o output

# 启用外部编译器回退
ALLOW_EXTERNAL_COMPILER=yes ./cc.sh source.c -o output
```

## 技术成就

通过replace_tcc和test_c99bin项目，实现了：

- ✅ **完全无外部依赖**: 项目可在仅有c99bin的环境中构建
- ✅ **性能优势**: 编译速度和执行性能均优于传统编译器
- ✅ **工具链独立**: 100%模块编译成功率
- ✅ **优雅降级**: 智能编译器选择和错误处理

## 许可证声明

TinyCC源码遵循其原始许可证条款。本项目对TinyCC的使用仅限于技术参考，不包含任何TinyCC代码的修改或分发。

项目的c99bin编译器是完全独立开发的，不包含任何TinyCC代码。

---

**最后更新**: 2025-07-17  
**状态**: TinyCC已完全替换，仅保留作为技术参考
